<div class="space-x-2">
  {% set themes = ['red','blue','green'] %}
  {% for t in themes %}
    <button class="px-3 py-1 rounded border border-accent text-accent text-sm" data-set-theme="{{ t }}">{{ t }}</button>
  {% endfor %}
</div>
<script>
  document.querySelectorAll('[data-set-theme]').forEach(btn=>{
    btn.onclick=()=>{
      const t=btn.dataset.setTheme;
      const map={red:'#970000',blue:'#00427A',green:'#006B3C'};
      document.documentElement.dataset.theme=t;
      document.documentElement.style.setProperty('--accent',map[t]);
      localStorage.theme=t;
    };
  });
  const saved=localStorage.theme||'red';
  document.documentElement.dataset.theme=saved;
  document.documentElement.style.setProperty('--accent',{red:'#970000',blue:'#00427A',green:'#006B3C'}[saved]);
</script>